<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>istanbul: chat</title>
        
        <link rel="stylesheet" href="styles.css" />
        
        <script src="/socket.io/socket.io.js"></script>
        <script src="client.js"></script>
        
        <script>
            // declare client here (global scope), so that we
            // may reach it everywhere (e.g. from the console)
            var client;
            
            // wait until the DOM is loaded before we instantiate
            // the client (because we need to grab some elements)
            document.addEventListener("readystatechange", function(event) {
                if (document.readyState == "complete") {
                    console.log("DOM ready, init application");
                    
                    // ta-da! our own DOM query function shorthand
                    function $(selector) {
                        return document.querySelector(selector);
                    };
                    
                    // instantiate client
                    client = new Client({
                        input: $("#application section.input input"),
                        messages: $("#application section.messages"),
                        nickList: $("#application aside ul"),
                        statusBar: $("#application footer")
                    });
                }
            });
        </script>
    </head>
    <body>
        <section id="application">
            <h1>istanbul: chat</h1>
            <header></header>
            <section class="messages"></section>
            <aside>
                <header>connected users:</header>
                <ul></ul>
            </aside>
            <section class="input">
                <input type="text" autofocus="autofocus" />
            </section>
            <footer></footer>
        </section>
    </body>
</html>
